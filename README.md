# To-Do-List Diary

ë…¸ë§ˆë“œì½”ë”ì—ì„œ [ë°”ë‹ë¼ JSë¡œ í¬ë¡¬ ì•± ë§Œë“¤ê¸°](https://nomadcoders.co/javascript-for-beginners/lobby)ì˜ ê°•ì˜ë¥¼ ë“£ê³ , ë°°ìš´ ê¸°ëŠ¥ë“¤ì„ í™œìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ë‚˜ë§Œì˜ ì›¹í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ë³´ì í•œë‹¤. 3ì›”ë‹¬ì— ì‹¸í”¼ì—ì„œ ë°°ìš´ `django`ì˜ ê¸°ëŠ¥ë„ ê°™ì´ ì´ìš©í•´ë³´ë©´ì„œ ë³µìŠµë„ ê²¸í•¨!!

ë°°ìš´ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥ì„ ì–´ë–»ê²Œ ì´ìš©í•  ì§€ ê³ ë¯¼í•˜ë˜ ì¤‘, í‰ì†Œ ë‹¤ì´ì–´ë¦¬ì— ì˜¤ëŠ˜ í•´ì•¼í•  ì¼ì„ ì ê³ , ê·¸ë‚  ë°¤ í•´ì¹˜ìš´ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ë©° ì¼ê¸°ë¥¼ ì“°ëŠ” ìŠµê´€ì´ ë– ì˜¬ëê³ , ì´ê²ƒì„ ê·¸ëŒ€ë¡œ ì›¹í˜ì´ì§€ë¡œ êµ¬í˜„í•´ë³´ê³ ì í•˜ì˜€ë‹¤!!

<br/>

### ê°œë°œ ê¸°ê°„

ğŸ“…2022.03.17 ~ 2022.03.18

<br/>

### í™ˆí˜ì´ì§€ ì‚¬ì§„ 

![ìœ¤ê²½1](https://camo.githubusercontent.com/98fd043cf0081860309b61afd0f63c7c36f69c85d0ec444db05a9a3448f6a3c3/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f464f4d5379775a615141515045426d3f666f726d61743d6a7067266e616d653d6c61726765)

![ìœ¤ê²½2](https://camo.githubusercontent.com/5391f0049e839612ed81f14a86a2d25e814cf6a6deb0dc47111c3238287b78d8/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f464f4d5462686d6149414153774d363f666f726d61743d706e67266e616d653d6d656469756d)

![ìœ¤ê²½3](https://camo.githubusercontent.com/80f7a5caddb33a92ab3273a60a5ac89fd3fdfe957256518fe1beb6b83a798039/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f464f4d5462683561554149705f6f4d3f666f726d61743d706e67266e616d653d6d656469756d)

<br/>

### ì–´ë ¤ì› ë˜ ì ê³¼ í•´ê²° ë°©ë²•

- íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ ë•Œ, ì™„ë£Œí–ˆë‹¤ëŠ” í‘œì‹œë¥¼ ìœ„í•´ ì²´í¬ ë²„íŠ¼ì„ ì¶”ê°€í•˜ì˜€ê³ , ë³´ë‹¤ ëª…í™•í•˜ê²Œ ë³´ì´ê¸° ìœ„í•´ì„œ, ì²´í¬ë²„íŠ¼ì„ ëˆŒë €ì„ ê²½ìš° ê¸€ìì— ì·¨ì†Œì„ ë„ ë”í•˜ê³ ì í–ˆë‹¤. í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì–»ìœ¼ë©´ ì²´í¬ë²„íŠ¼ì„  ğŸ”²ì—ì„œ âœ”ë¡œ ë°”ê¾¸ê³ , ê¸€ìì— ì·¨ì†Œì„  styleì„ ì ìš©í•˜ì˜€ìœ¼ë‚˜, ìƒˆë¡œê³ ì¹¨ ì‹œ ë³€ê²½ì‚¬í•­ì´ ì €ì¥ì´ ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.

  -  `localStorage`ì— ì €ì¥ë˜ëŠ” toDosë°°ì—´ì˜ ì›ì†Œì¸ newToDoObjëŠ” textì™€ idë°–ì— ê°€ì§€ê³  ìˆì§€ ì•Šì•„ ìƒê¸°ëŠ” ë¬¸ì œì˜€ê³ , newToDoObjì— ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ì¤„ checkê°’ì„ ì¶”ê°€í•˜ë©´ì„œ í•´ê²°í•˜ì˜€ë‹¤. í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì–»ìœ¼ë©´, checkê°’ë„ 1ë¡œ ì—…ë°ì´íŠ¸í•´ì£¼ì—ˆê³ , ì´ checkê°’ì— ë”°ë¼ íƒœê·¸ì˜ ìƒíƒœê°€ ë³€í™”í•˜ë„ë¡ í•˜ì˜€ë‹¤.

  ```javascript
    const newToDoObj = {
      "text": newToDo,
      "id": Date.now(),
      "check": 0,
    };
  ```



- diary ì‘ì„±í™”ë©´ì—ì„œ ì‘ì„± ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ ê°’ê³¼, ë‚´ê°€ ì‘ì„±í•œ ë‹¤ì´ì–´ë¦¬ì˜ ê°’ì„ DBì— ì €ì¥í•˜ì—¬ì•¼ í–ˆëŠ”ë°, íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ ê°’ë“¤ì„ ì–´ë–»ê²Œ formíƒœê·¸ ì•ˆì— ë„£ì–´ì¤˜ì•¼ í•  ì§€ ê³ ë¯¼ì´ ë˜ì—ˆë‹¤.....
  - ì•„ì§ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ ê°’ë“¤ì´ `localStorage`ì— ì €ì¥ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ì´ ë°ì´í„°ë¥¼ valueê°’ìœ¼ë¡œ ê°€ì§€ëŠ”, inputíƒœê·¸ë¥¼ ìƒì„±í•˜ì—¬ formíƒœê·¸ ì•ˆì— ë„£ì–´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°í•˜ì˜€ë‹¤. ë‹¤ë¥¸ í•´ê²°ë°©ë²•ì€ ì—†ì„ê¹Œ..? ìƒê°í•´ë³´ê¸°..



- ë§Œë“¤ì–´ì§„ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ ê°œìˆ˜ëŠ” ë¯¸ë¦¬ ì§€ì •ëœ ê°’ì´ ì•„ë‹ˆë¯€ë¡œ DBì˜ tableì„ ì–´ë–»ê²Œ êµ¬ì„±í•´ì•¼ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ë¥¼ ì €ì¥í•  ìˆ˜ ìˆì„ì§€ ê³ ë¯¼í•¨..

  - ëª¨ë¸ í•„ë“œ ì¤‘ì— `JSONField`ê°€ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆê³ , ê° íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ë¥¼ ë”•ì…”ë„ˆë¦¬ì˜ í˜•íƒœë¡œ ì €ì¥í•´ì„œ ë„£ì–´ë³´ê¸°ë¡œ í–ˆë‹¤!!

    ```python
    class TodoDiary(models.Model):
        todos = models.JSONField(default=dict)
        content = models.TextField()
        created_at = models.DateTimeField(auto_now_add=True)
    ```

    ìœ„ì²˜ëŸ¼ ëª¨ë¸ì„ êµ¬ì„±í•œ ë’¤, viewí•¨ìˆ˜ì—ì„œ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ ê°œìˆ˜ë§Œí¼ forë¬¸ì„ ëŒë ¤ ê°’ì„ ë„£ê³ ì í•˜ì˜€ê³ , ê°œìˆ˜ì˜ ê°’ì„ viewí•¨ìˆ˜ì—ì„œ ì–»ì„ ìˆ˜ ìˆë„ë¡, ë°ì´í„° ì „ì†¡ ì‹œ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ ê°œìˆ˜ë¥¼ valueë¡œ ê°€ì§„ hiddeníƒ€ì…ì˜ inputì„ `new.html`ì˜ formíƒœê·¸ ë‚´ë¶€ì— ìƒì„±ì‹œí‚´ìœ¼ë¡œì¨ í•´ê²°í•˜ì˜€ë‹¤..

    ```javascript
    function handleSubmit(event) {
      const input = document.createElement("input")
      input.type = "hidden"
      input.name = "todo_num"
      input.id = "todo_num"
      input.value = toDos.length;
      toDoList.appendChild(input);
    }
    ```



- ì €ì¥ëœ DBê°’ì„ ì½ì–´ì„œ  `index.html`ì—ì„œ ë¶ˆëŸ¬ì˜¬ ë•Œ, ì™„ë£Œëœ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ëŠ” ì·¨ì†Œì„ ì´ ì ìš©ë˜ì–´ ìˆì–´ì•¼ í•˜ì§€ë§Œ, DBì— ì €ì¥ë˜ëŠ” ê°’ì€ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ textê°’ ë¿ì´ê³ , ì™„ë£Œ ìƒíƒœë¥¼ ë”°ë¡œ ê°€ì§€ê³  ìˆì§€ ëª»í–ˆë‹¤!!!!

  - ì²˜ìŒì—ëŠ” `JSONField`ë¥¼ ì‚¬ìš©í•˜ì—¬ keyê°’ìœ¼ë¡œëŠ” ê° íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜  keyê°’ê³¼ ë™ì¼í•œ ê°’ì„ ê°€ì§€ê³  valueê°’ìœ¼ë¡œëŠ”ëŠ” íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜  checkìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ëª¨ë¸í•„ë“œë¥¼ ì¶”ê°€í•´ì„œ í•´ê²°í•˜ë ¤ í–ˆì§€ë§Œ, htmlë‚´ë¶€ì—ì„œ dictionaryë¥¼ ì‚¬ìš©í•˜ë ¤ í•  ë•Œ ë³€ìˆ˜ì˜ ê°’ì„ keyë¡œ ë„£ì–´ì¤„ ìˆ˜ ì—†ì–´ì„œ íê¸°í•˜ì˜€ë‹¤.

  - ë‘ë²ˆì§¸ë¡œëŠ” `new.html`ì—  íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ ê°œìˆ˜ë§Œí¼ ê° íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì˜ ì™„ë£Œ ìƒíƒœë¥¼ valueë¡œ ê°€ì§„ hiddeníƒ€ì…ì˜ inputì„ ì¶”ê°€í•˜ì—¬ formíƒœê·¸ ë‚´ì— ë“¤ì–´ê°€ë„ë¡ í•˜ì˜€ë‹¤.. 

    ```javascript
    function paintToDo(newToDoObj, index) {
      const li = document.createElement("li");
      li.id = newToDoObj.id;
    
      const input = document.createElement("input");
      const check_input = document.createElement("input");
    
      input.type = "text";
      const idx = String(index);
      input.name = `todo${idx}`;
      input.id = `todo${idx}`;
      input.value = newToDoObj.text;
      input.readOnly = true;
    
      check_input.type = "hidden"
      check_input.name = `check${idx}`
      check_input.id = `check${idx}`
      check_input.value = 0
    
      if (newToDoObj.check) {
        input.classList.add("done");
        check_input.value = 1;
      }
    
      li.appendChild(input);
      li.appendChild(check_input);
      toDoList.appendChild(li);
      console.log(check_input)
    }
    ```

    ì´ë ‡ê²Œ ì „ì†¡í•œ ë°ì´í„°ë¥¼ ì´ìš©í•´ì„œ ê°™ì€ `todo{idx}`ì™€ ê°™ì€ idxë¥¼ ê°€ì§„ `check{idx}`ì˜ ê°’ì´ '1'ì„ ê°€ì§€ê³  ìˆë‹¤ë©´, ë”•ì…”ë„ˆë¦¬ keyê°’ì˜ ë„¤ì´ë°ì„ ê¸°ì¡´ì˜ ì´ë¦„ì— 'hidden'ì„ ì¶”ê°€í•´ì„œ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤.. 

    ```python
    for i in range(todo_num):
        str_num = str(i)
        str_hidden_num = str_num + 'hidden'
        str_name = 'todo' + str_num
        check_name = 'check' + str_num
    
        if request.GET.get(check_name) == '1':
            todo_data[str_hidden_num] = request.GET.get(str_name)
        else:
            todo_data[str_num] = request.GET.get(str_name)
    ```

    ê·¸ë¦¬ê³  viewí•¨ìˆ˜ì— `index.html`ì— hiddenì´ ë¶™ì€ ì´ë¦„ë“¤ì„ ì €ì¥í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³ ,

    ```python
    check = []
    for i in range(todo_num):
        name = str(i) + 'hidden'
        check.append(name)
    ```

    keyê°’ì´ ê·¸ ë¦¬ìŠ¤íŠ¸ ì•ˆì— ì¡´ì¬í•œë‹¤ë©´ ì·¨ì†Œì„ ì„ ì¶”ê°€í•´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°í•¨....

    ```html
    {% for key, value in diary.todos.items %}
    <li>
        {% if key in check %} 
        <p class="done"> {{ value }}</p>
        {% else %}
        <p> {{ value }}</p>
        {% endif %} 
    </li>
    {% endfor %}
    ```

    ë„ˆë¬´ ì£¼ë¨¹êµ¬êµ¬ì‹ì´ì—ˆê¸° ë•Œë¬¸ì—.... ë‚˜ì¤‘ì— ë” ì¢‹ì€ ë°©ë²•ì€ ì—†ëŠ”ì§€ ìƒê°í•´ë³¼ ê²ƒ...!!!!!
